<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0D9488">
    <title>DancyMeals - Offline</title>
    <style>
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --surface: #FFFFFF;
            --surface-alt: #F4F4F5;
            --on-surface: #3F3F46;
            --on-surface-strong: #18181B;
            --primary: #0D9488;
            --primary-hover: #0F766E;
            --primary-subtle: #F0FDFA;
            --on-primary: #FFFFFF;
            --outline: #D4D4D8;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --surface: #18181B;
                --surface-alt: #27272A;
                --on-surface: #D4D4D8;
                --on-surface-strong: #F4F4F5;
                --primary: #14B8A6;
                --primary-hover: #2DD4BF;
                --primary-subtle: #27272A;
                --on-primary: #18181B;
                --outline: #3F3F46;
            }
        }

        /* Honor the data-theme attribute from localStorage detection */
        [data-theme="dark"] {
            --surface: #18181B;
            --surface-alt: #27272A;
            --on-surface: #D4D4D8;
            --on-surface-strong: #F4F4F5;
            --primary: #14B8A6;
            --primary-hover: #2DD4BF;
            --primary-subtle: #27272A;
            --on-primary: #18181B;
            --outline: #3F3F46;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: var(--surface);
            color: var(--on-surface);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            text-align: center;
        }

        .container {
            max-width: 28rem;
            width: 100%;
        }

        .icon-wrapper {
            width: 5rem;
            height: 5rem;
            border-radius: 50%;
            background-color: var(--primary-subtle);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .icon-wrapper svg {
            width: 2.5rem;
            height: 2.5rem;
            color: var(--primary);
        }

        .brand {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--on-surface-strong);
            margin-bottom: 0.5rem;
        }

        .title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--on-surface-strong);
            margin-bottom: 0.75rem;
        }

        .message {
            font-size: 0.9375rem;
            color: var(--on-surface);
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        .retry-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 2rem;
            background-color: var(--primary);
            color: var(--on-primary);
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 150ms ease;
            min-height: 3rem;
            min-width: 10rem;
            -webkit-tap-highlight-color: transparent;
        }

        .retry-btn:hover {
            background-color: var(--primary-hover);
        }

        .retry-btn:active {
            transform: scale(0.98);
        }

        .retry-btn svg {
            width: 1.25rem;
            height: 1.25rem;
        }

        .footer {
            margin-top: 3rem;
            font-size: 0.8125rem;
            color: var(--on-surface);
            opacity: 0.6;
        }
    </style>
    <script>
        // Apply theme from localStorage to prevent flash
        (function() {
            try {
                var theme = localStorage.getItem('dmc-theme');
                var resolved = 'light';
                if (theme === 'dark') {
                    resolved = 'dark';
                } else if (theme === 'light') {
                    resolved = 'light';
                } else {
                    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                        resolved = 'dark';
                    }
                }
                document.documentElement.setAttribute('data-theme', resolved);
            } catch (e) {
                // Fallback to prefers-color-scheme (handled by CSS)
            }
        })();

        // Detect locale and set content
        (function() {
            var lang = 'en';
            try {
                var navLang = navigator.language || navigator.userLanguage || 'en';
                if (navLang.toLowerCase().startsWith('fr')) {
                    lang = 'fr';
                }
                // Also check localStorage for app locale preference
                var storedLocale = localStorage.getItem('dmc-locale');
                if (storedLocale === 'fr') {
                    lang = 'fr';
                } else if (storedLocale === 'en') {
                    lang = 'en';
                }
            } catch (e) {
                // Default to English
            }

            document.addEventListener('DOMContentLoaded', function() {
                document.documentElement.lang = lang;
                var elements = document.querySelectorAll('[data-i18n]');
                elements.forEach(function(el) {
                    var key = el.getAttribute('data-i18n');
                    if (translations[lang] && translations[lang][key]) {
                        el.textContent = translations[lang][key];
                    }
                });
            });
        })();

        var translations = {
            en: {
                title: 'You\'re offline',
                message: 'You appear to be offline. Check your internet connection and try again.',
                retry: 'Try Again',
                footer: 'DancyMeals â€” Your favorite home-cooked meals, delivered.'
            },
            fr: {
                title: 'Vous \u00eates hors ligne',
                message: 'Vous semblez \u00eatre hors ligne. V\u00e9rifiez votre connexion Internet et r\u00e9essayez.',
                retry: 'R\u00e9essayer',
                footer: 'DancyMeals \u2014 Vos plats faits maison pr\u00e9f\u00e9r\u00e9s, livr\u00e9s.'
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <!-- Wifi-off icon (Lucide) -->
        <div class="icon-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="2" y1="2" x2="22" y2="22"></line>
                <path d="M8.5 16.5a5 5 0 0 1 7 0"></path>
                <path d="M2 8.82a15 15 0 0 1 4.17-2.65"></path>
                <path d="M10.66 5c4.01-.36 8.14.9 11.34 3.76"></path>
                <path d="M16.85 11.25a10 10 0 0 1 2.22 1.68"></path>
                <path d="M5 12.86a10 10 0 0 1 5.17-2.89"></path>
                <line x1="12" y1="20" x2="12.01" y2="20"></line>
            </svg>
        </div>

        <div class="brand">DancyMeals</div>

        <h1 class="title" data-i18n="title">You're offline</h1>

        <p class="message" data-i18n="message">You appear to be offline. Check your internet connection and try again.</p>

        <button class="retry-btn" onclick="window.location.reload()">
            <!-- Refresh icon (Lucide) -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                <path d="M3 3v5h5"></path>
                <path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"></path>
                <path d="M21 21v-5h-5"></path>
            </svg>
            <span data-i18n="retry">Try Again</span>
        </button>
    </div>

    <div class="footer" data-i18n="footer">DancyMeals &mdash; Your favorite home-cooked meals, delivered.</div>
</body>
</html>
