# F-128 â€” Available Meals Grid Display

> Module: Tenant Landing
> Priority: Must-have
> Precedence: F-126, F-108
> Type: functional

---

## What It Does
Renders a responsive grid of available meals on the cook's tenant landing page. Each meal is displayed as a card showing the meal's primary image, name, starting price ("from X XAF"), estimated preparation time, tag chips, and availability indicator. Only meals that are both live and available within the current schedule are shown. Clicking a meal card opens the meal detail view (F-129). The grid is responsive with 1/2/3 columns depending on viewport size.

---

## Who Uses It
| Role | Interaction |
|------|-------------|
| Client (guest or authenticated) | Browses available meals on the cook's site and clicks to view details |
| Cook | Sees how their meals are displayed to clients |

---

## User Scenarios
### Scenario 1: Browsing available meals
A visitor on `latifa.dm.test` scrolls to the meals section. They see 8 meal cards in a 3-column grid (desktop). Each card shows a food photo, "Ndole Platter" with "from 2,500 XAF", a "30 min" prep time badge, tag chips ("Traditional", "Spicy"), and a green "Available" dot.

### Scenario 2: Meal not matching current schedule
It is Sunday and the cook has no Sunday schedule. Three meals that are only available on weekdays are hidden from the grid. Only the 5 meals available any day of the week are shown.

### Scenario 3: Mobile browsing
On mobile, the meal cards display in a single column, taking the full viewport width. Each card is compact with the image on the left and details on the right, or image on top with details below.

### Scenario 4: No available meals
A cook has no meals with "available" status. The grid area shows an empty state: "No meals available right now. Check back soon!" with the cook's schedule link.

### Scenario 5: Click to view meal detail
The visitor clicks on the "Ndole Platter" card. The meal detail view (F-129) opens, showing full meal information, components, and the ability to add items to the cart.

---

## Business Rules
| Code | Rule |
|------|------|
| BR-146 | Only meals with `status = live` AND `availability = available` are displayed |
| BR-147 | Meals are filtered against the cook's current schedule: only meals orderable on today or upcoming schedule days appear |
| BR-148 | Each meal card displays: primary image (first image or placeholder), name, starting price, prep time, tags, availability indicator |
| BR-149 | Starting price is the minimum component price for the meal, displayed as "from X XAF" |
| BR-150 | Preparation time displayed as a badge (e.g., "30 min") |
| BR-151 | Tags displayed as compact chips (maximum 3 visible, "+N more" if more exist) |
| BR-152 | Grid is responsive: 1 column (<640px), 2 columns (640-1024px), 3 columns (>1024px) |
| BR-153 | Clicking a meal card navigates to the meal detail view via Gale (no page reload) |
| BR-154 | All text must be localized: meal name shown in user's current language (name_en / name_fr) |
| BR-155 | Meals are ordered by position or popularity (order count) by default |

---

## Data Involved
**Reads:**
- Meals for the tenant (filtered by status and availability)
- Meal images (primary/first image)
- Meal components (for calculating starting price)
- Meal tags
- Cook schedule entries (to filter by schedule)

**Creates:**
- Meal card Blade component
- Meals grid section Blade component

**Updates:**
- Nothing

**Relationships:**
- Child of F-126 (Tenant Landing Page Layout)
- Uses Meal model from F-108
- Individual cards link to F-129 (Meal Detail View)
- Filtered by F-135 (Meal Search Bar) and F-136 (Meal Filters)

---

## Acceptance Criteria
- **Given** a cook with 8 available meals, **when** the meals section loads, **then** 8 meal cards are displayed in the grid
- **Given** a meal with components priced at 500, 1000, and 1500 XAF, **when** its card renders, **then** it shows "from 500 XAF"
- **Given** a meal with no images, **when** its card renders, **then** a placeholder image is displayed
- **Given** a mobile viewport, **when** the grid renders, **then** cards display in a single column
- **Given** the visitor clicks a meal card, **when** the click fires, **then** the meal detail view opens via Gale
- **Given** a cook with no available meals, **when** the section loads, **then** an empty state message is shown

---

## Verification Steps
1. Visit a tenant site and confirm the meals grid displays available meals
2. Verify each card shows image, name, starting price, prep time, and tags
3. Click a meal card and confirm the detail view opens
4. Verify only meals matching the current schedule are shown
5. Test at mobile, tablet, and desktop breakpoints for correct column count
6. View a cook with no available meals and confirm empty state
7. Switch language and verify meal names update to the correct locale

---

## Edge Cases & Exceptions
| Condition | Expected Behavior |
|-----------|-------------------|
| Meal has no components | Card still displays but starting price shows "Price TBD" or similar |
| Meal has no tags | Tag chip area is hidden, card layout adjusts |
| Meal image fails to load | Placeholder image shown |
| Very long meal name | Truncated to 2 lines with ellipsis |
| Cook has 50+ available meals | Grid loads with pagination or "Load More" button (pages of 12) |
| All meal components are unavailable | Meal card shows "Sold Out" indicator instead of "Available" |

---

## UI/UX Notes
- Section header: "Our Meals" or "Available Meals" (localized)
- Meal cards have subtle shadow and rounded corners matching tenant theme
- Image takes approximately 60% of card height; text area below
- Starting price in bold, prominent typography
- Prep time badge with a clock icon
- Tag chips in muted colors with small, rounded pill style
- Availability indicator as a small colored dot (green = available)
- Loading skeletons while meals data loads
- Smooth hover effect on desktop (subtle lift and shadow)

---

## Related Features
| Code | Feature | Relationship |
|------|---------|-------------|
| F-126 | Tenant Landing Page Layout | Parent layout containing this section |
| F-108 | Meal Creation | Source of meal data displayed here |
| F-129 | Meal Detail View | Opens when a meal card is clicked |
| F-135 | Meal Search Bar | Filters meals in this grid |
| F-136 | Meal Filters | Filters meals in this grid |
| F-137 | Meal Sort Options | Sorts meals in this grid |
