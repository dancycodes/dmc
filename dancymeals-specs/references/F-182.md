# F-182 — Approved Testimonials Display

> Module: Testimonial
> Priority: Should-have
> Precedence: F-181
> Type: functional

---

## What It Does
Displays approved testimonials on the cook's tenant landing page. Shows testimonials in a carousel or grid format. Each testimonial displays the client's name, date, and testimonial text. A maximum of 10 testimonials are displayed (the cook can select which are "featured" if they have more than 10 approved). An eligible, authenticated client sees a "Submit Testimonial" CTA to contribute their own testimonial (F-180).

---

## Who Uses It
| Role | Interaction |
|------|-------------|
| Client (guest or authenticated) | Reads testimonials on the cook's landing page |
| Cook | Selects featured testimonials from their approved list |

---

## User Scenarios
### Scenario 1: View testimonials on landing page
A visitor opens Chef Latifa's landing page. The testimonials section shows a carousel of approved testimonials. Each slide shows: "Amara N. — Feb 10, 2026 — I've been ordering from Chef Latifa for 6 months. Her ndole is the best in Douala!" Navigation arrows allow browsing through testimonials.

### Scenario 2: Grid layout
On a wider screen, testimonials display as a grid of cards (2-3 columns). Each card shows the client name, date, and text.

### Scenario 3: Submit testimonial CTA
An authenticated client who has completed orders sees a "Share Your Experience" button at the end of the testimonials section. They click it to open the submission form (F-180).

### Scenario 4: No approved testimonials
A new cook has no approved testimonials. The section shows: "No testimonials yet" with the submission CTA for eligible clients.

### Scenario 5: Cook selects featured testimonials
The cook has 15 approved testimonials but only 10 can be displayed. In the dashboard (F-181), they mark 10 as "featured." Only featured ones appear on the landing page.

### Scenario 6: Ineligible client sees CTA differently
A client who has not ordered from this cook sees the testimonials but the CTA shows: "Order from this cook to share your experience."

---

## Business Rules
| Code | Rule |
|------|------|
| BR-446 | Only approved testimonials are displayed on the landing page |
| BR-447 | Maximum 10 testimonials displayed at a time |
| BR-448 | If more than 10 are approved, cook selects featured ones; otherwise all approved are displayed |
| BR-449 | Each testimonial shows: client name (first name + last initial), date, text |
| BR-450 | Testimonials are displayed in a carousel (mobile) or grid (desktop) |
| BR-451 | "Submit Testimonial" CTA is visible for eligible authenticated clients |
| BR-452 | The CTA is disabled/hidden for ineligible clients and shown as a login prompt for unauthenticated visitors |
| BR-453 | Testimonials section is tenant-scoped |
| BR-454 | All user-facing text must use `__()` localization |

---

## Data Involved
**Reads:**
- `testimonials` table filtered by tenant_id, status = approved, is_featured = true (or all approved if <= 10)
- `users` table for client names
- Authentication status and client order history for CTA eligibility

**Creates:**
- Nothing

**Updates:**
- Nothing (feature selection happens in F-181 dashboard)

**Relationships:**
- Testimonial belongsTo Tenant
- Testimonial belongsTo User (client)
- CTA links to F-180 (submission form)

---

## Acceptance Criteria
- **Given** approved testimonials exist, **when** viewing the landing page, **then** testimonials are displayed in a carousel/grid
- **Given** more than 10 approved testimonials, **when** viewing the page, **then** only featured ones (max 10) are displayed
- **Given** an eligible authenticated client, **when** viewing the section, **then** the "Submit Testimonial" CTA is visible and active
- **Given** an unauthenticated visitor, **when** viewing the section, **then** a "Log in to share" prompt is shown
- **Given** no approved testimonials, **when** viewing the section, **then** an appropriate empty state is shown

---

## Verification Steps
1. Approve testimonials and verify they appear on the landing page
2. Verify the carousel/grid displays correctly on mobile and desktop
3. Verify the maximum of 10 testimonials is enforced
4. Verify the "Submit Testimonial" CTA appears for eligible clients
5. Verify the CTA is disabled for ineligible clients
6. Verify unauthenticated visitors see the login prompt
7. Un-approve a testimonial and verify it disappears from the landing page
8. Test with no approved testimonials and verify the empty state

---

## Edge Cases & Exceptions
| Condition | Expected Behavior |
|-----------|-------------------|
| Exactly 10 approved testimonials | All 10 displayed; no feature selection needed |
| Client's account deactivated after testimonial approved | Testimonial remains; name shows "Former User" |
| Testimonial text is very long (near 1000 chars) | Truncated with "Read more" toggle or modal |
| Cook has not selected any featured testimonials | All approved shown (up to 10, newest first) |
| Landing page theme changes | Testimonials section adapts to the tenant's theme |

---

## UI/UX Notes
- Testimonials section on the tenant landing page, below meal listings
- Carousel on mobile: swipeable cards, navigation dots
- Grid on desktop: 2-3 column layout of testimonial cards
- Each card: quotation mark icon, text, client name, date
- Subtle animations on card entry
- "Submit Testimonial" CTA as a bordered button at the end of the section
- Section heading: "What Our Customers Say" or similar
- Adapts to the cook's tenant theme (colors, fonts, border radius)
- Light/dark mode support
- All interactions via Gale (no page reloads)

---

## Related Features
| Code | Feature | Relationship |
|------|---------|-------------|
| F-181 | Cook Testimonial Moderation | Approves testimonials displayed here |
| F-180 | Testimonial Submission Form | CTA links to this submission form |
| F-131 | Testimonials Showcase Section | Layout section on the landing page |
| F-126 | Tenant Landing Page Layout | Parent page that contains this section |
