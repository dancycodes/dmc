# F-102 — Schedule Template List View

> Module: Schedule
> Priority: Must-have
> Precedence: F-101
> Type: functional

---

## What It Does
Displays a list of all schedule templates created by the cook within their tenant. Each template shows its name, a summary of the order window, delivery window, pickup window, and how many day schedules currently use values copied from this template. The list provides links to edit, delete, and apply each template. The view is accessible from the cook dashboard Schedule section and rendered via Gale.

---

## Who Uses It
| Role | Interaction |
|------|-------------|
| Cook | Views and manages their schedule templates |
| Manager | Views and manages templates if granted `manage-schedules` permission |

---

## User Scenarios
### Scenario 1: View template list
The cook navigates to Schedule > Templates. The list shows two templates: "Lunch Service" and "Dinner Service." Each card displays the template name, order window summary, delivery window, pickup window, and "Applied to 3 days" badge.

### Scenario 2: Empty template list
A new cook visits the Templates section. An empty state is shown with a message "No templates yet" and a button to create the first template.

### Scenario 3: Navigate to edit
The cook clicks the edit button on "Lunch Service." They are taken to the template edit form (F-103).

### Scenario 4: Navigate to apply
The cook clicks the "Apply to Days" button on "Dinner Service." They are taken to the template application interface (F-105).

### Scenario 5: Navigate to delete
The cook clicks the delete button on an unused template. They see a confirmation dialog (F-104).

---

## Business Rules
| Code | Rule |
|------|------|
| BR-136 | Template list is tenant-scoped — only shows templates belonging to the current tenant |
| BR-137 | The "applied to" count reflects how many schedule entries were created from this template (tracked via a `template_id` reference) |
| BR-138 | Only users with `manage-schedules` permission can view the template list |
| BR-139 | Templates are listed in alphabetical order by name, or by creation date (most recent first) |

---

## Data Involved
**Creates:**
- Nothing (read-only view)

**Reads:**
- ScheduleTemplate records for the current tenant
- CookSchedule entries referencing each template (for applied-to count)

**Updates:**
- Nothing

**Relationships:**
- ScheduleTemplate hasMany CookSchedule (via `template_id` reference on CookSchedule)

---

## Acceptance Criteria
- **Given** a tenant with 3 templates, **when** the cook visits the template list, **then** all 3 templates are displayed
- **Given** no templates exist, **when** the cook visits the list, **then** an empty state with a create prompt is shown
- **Given** a template applied to 5 day schedules, **when** viewing the list, **then** the "Applied to 5 days" count is accurate
- **Given** an edit button is clicked, **when** navigating, **then** the edit form for that template loads via Gale
- **Given** a manager without `manage-schedules` permission, **when** accessing the template list, **then** access is denied

---

## Verification Steps
1. Create multiple templates and verify they all appear in the list
2. Verify template summaries show correct order, delivery, and pickup windows
3. Apply a template to several days and verify the "applied to" count updates
4. Click edit and verify navigation to the edit form
5. Click delete and verify the confirmation dialog appears
6. Click "Apply to Days" and verify navigation to the application interface
7. Access as unauthorized user and verify access denied

---

## Edge Cases & Exceptions
| Condition | Expected Behavior |
|-----------|-------------------|
| Template with only delivery enabled | Pickup column shows "Disabled" or dash |
| Template with only pickup enabled | Delivery column shows "Disabled" or dash |
| Many templates (10+) | List is scrollable; no pagination needed for typical cook usage |
| Template name is very long | Truncated with ellipsis in the list, full name on hover/tap |

---

## UI/UX Notes
- Card-based layout on mobile, table layout on desktop
- Each card/row shows: template name, order window (e.g., "6 PM day before - 9 AM"), delivery window (e.g., "11:30 AM - 2 PM"), pickup window (e.g., "11 AM - 2:30 PM"), applied count badge
- Action buttons: Edit (pencil icon), Delete (trash icon), Apply (calendar icon)
- "Create Template" button prominently placed at the top
- Empty state with illustration and CTA button
- All navigation via Gale (no page reloads)

---

## Related Features
| Code | Feature | Relationship |
|------|---------|-------------|
| F-101 | Create Schedule Template | Creates the templates listed here |
| F-103 | Edit Schedule Template | Edits a template from this list |
| F-104 | Delete Schedule Template | Deletes a template from this list |
| F-105 | Schedule Template Application to Days | Applies a template from this list to day schedules |
