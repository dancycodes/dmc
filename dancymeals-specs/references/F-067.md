# F-067 â€” Cook Card Component

> Module: Discovery
> Priority: Must-have
> Precedence: F-066
> Type: functional

---

## What It Does

A reusable card component that displays a summary of a cook's profile on the discovery page grid. Each card shows the cook's name, short description, cover images as an auto-cycling carousel, number of active meals, average star rating, and primary delivery town. Clicking anywhere on the card redirects the user to the cook's tenant domain. The card is responsive and adapts to the grid layout (1 column mobile, 2 tablet, 3 desktop).

---

## Who Uses It

| Role | Interaction |
|------|-------------|
| Client (guest or authenticated) | Views cook cards on the discovery page and clicks to visit a cook's site |
| Cook | Sees how their card appears to potential clients |

---

## User Scenarios

### Scenario 1: Viewing a cook card
A visitor sees a card on the discovery page showing "Chef Latifa" with a carousel of 3 cover images cycling every 4 seconds, a short bio excerpt, "12 meals", "4.7 stars", and "Douala" as the primary town. The visitor clicks the card and is redirected to `latifa.dm.test`.

### Scenario 2: Cook with no cover images
A cook card for "Chef Moussa" has no cover images uploaded. A placeholder image or gradient is shown instead of the carousel. All other information displays normally.

### Scenario 3: Cook with no ratings
A new cook has zero reviews. Instead of showing 0 stars, the card shows "New" or "No ratings yet" in place of the rating.

### Scenario 4: Mobile view
On mobile, cook cards stack in a single column. Each card takes the full width with the image carousel at the top and text details below.

### Scenario 5: Custom domain redirect
When clicking a cook card whose tenant has a custom domain configured, the user is redirected to the custom domain instead of the subdomain.

---

## Business Rules

| Code | Rule |
|------|------|
| BR-074 | Each card must display: cook name, short description (truncated), cover image carousel, active meal count, average rating, primary delivery town |
| BR-075 | Cover images auto-carousel every 4 seconds; pauses on hover (desktop) |
| BR-076 | Clicking the card navigates to the cook's tenant domain (subdomain or custom domain if configured) |
| BR-077 | Cards with no cover images show a branded placeholder |
| BR-078 | Cooks with zero reviews show "New" instead of a star rating |
| BR-079 | The short description is truncated to 2 lines maximum with ellipsis |
| BR-080 | Card grid is responsive: 1 column (<640px), 2 columns (640-1024px), 3 columns (>1024px) |
| BR-081 | All card text must be localized; name/description shown in the user's current language |

---

## Data Involved

**Reads (per card):**
- Cook name (`name_en` / `name_fr` from cook profile or tenant)
- Short description / bio (`bio_en` / `bio_fr`, truncated)
- Cover images (up to 5 URLs)
- Active meal count (count of meals where `is_active = true`)
- Average rating (computed from reviews)
- Primary delivery town (`town_name_en` / `town_name_fr`)
- Tenant slug or custom domain (for redirect URL)

**Creates:**
- Nothing

**Updates:**
- Nothing

---

## Acceptance Criteria

- **Given** a cook with complete profile data, **when** their card renders, **then** all six data points are visible (name, bio, images, meals, rating, town)
- **Given** a cook with 3 cover images, **when** the card renders, **then** images cycle automatically every 4 seconds
- **Given** a cook with no cover images, **when** the card renders, **then** a placeholder image is displayed
- **Given** a cook with no reviews, **when** the card renders, **then** "New" is shown instead of stars
- **Given** the user clicks a card, **when** the click event fires, **then** the user is redirected to the cook's tenant domain
- **Given** a mobile viewport, **when** cards render, **then** they display in a single column taking full width
- **Given** the user's language is French, **when** the card renders, **then** name and description show French translations

---

## Verification Steps

1. View the discovery page and confirm cook cards show all required data fields
2. Watch a card with multiple images and confirm auto-carousel cycling at ~4 seconds
3. Hover over a card on desktop and confirm carousel pauses
4. Click a card and confirm redirect to the correct tenant domain
5. View a card for a cook with no images and confirm placeholder appears
6. View a card for a cook with zero reviews and confirm "New" badge
7. Switch to French and confirm translated content on cards
8. Test at mobile, tablet, and desktop breakpoints for correct column count

---

## Edge Cases & Exceptions

| Condition | Expected Behavior |
|-----------|-------------------|
| Cook has only 1 cover image | Single image displayed, no carousel animation |
| Cook description is empty | Description area hidden or shows a minimal default text |
| Cook has 0 active meals | Card should not appear (filtered at query level by F-066) |
| Very long cook name | Truncated to single line with ellipsis |
| Image fails to load (broken URL) | Fallback to placeholder image |
| Cook's tenant has custom domain | Card links to custom domain, not subdomain |

---

## UI/UX Notes

- Card has subtle shadow and rounded corners; slight lift on hover (desktop)
- Image area takes top ~60% of card height; text area bottom ~40%
- Star rating displayed as filled/unfilled star icons with numeric value
- Meal count displayed with a small plate/utensil icon
- Town displayed with a small map pin icon
- Smooth fade transition between carousel images
- Card skeleton/shimmer placeholder while loading

---

## Related Features

| Code | Feature | Relationship |
|------|---------|-------------|
| F-066 | Discovery Page Layout | Parent page that renders the card grid |
| F-068 | Discovery Search | Search results update which cards are shown |
| F-069 | Discovery Filters | Filters determine which cards are shown |
| F-070 | Discovery Sort Options | Sort order determines card arrangement |
| F-081 | Cook Cover Images Management | Source of cover images displayed on the card |
| F-126 | Tenant Landing Page Layout | Destination when a card is clicked |
