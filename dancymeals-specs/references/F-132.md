# F-132 â€” Schedule & Availability Display

> Module: Tenant Landing
> Priority: Must-have
> Precedence: F-126, F-098
> Type: functional

---

## What It Does
Renders a schedule and availability section on the cook's tenant landing page. Shows the cook's weekly schedule in a clear, visual format so clients know when they can place orders, when deliveries are made, and when pickups are available. Highlights the current day and shows a prominent badge indicating whether the cook is "Available Now" or when the next available window opens.

---

## Who Uses It
| Role | Interaction |
|------|-------------|
| Client (guest or authenticated) | Views the schedule to know when to order and when to expect delivery |
| Cook | Sees how their schedule is presented to clients |

---

## User Scenarios
### Scenario 1: Viewing a weekly schedule
A visitor scrolls to the schedule section. They see a 7-day grid. Monday through Friday show available slots: "Order: 8:00 AM - 11:00 AM", "Delivery: 12:00 PM - 2:00 PM", "Pickup: 11:30 AM - 1:00 PM." Saturday shows one slot. Sunday shows "Unavailable." Today (Wednesday) is highlighted with a border or badge.

### Scenario 2: Cook is currently available
It is Wednesday at 9:00 AM. The cook's order window for Wednesday is 8:00 AM - 11:00 AM. A green badge shows "Available Now - Orders open until 11:00 AM" at the top of the section.

### Scenario 3: Cook is not currently available
It is Wednesday at 3:00 PM. All windows for Wednesday are closed. The badge shows "Next available: Thursday at 8:00 AM" in an amber color.

### Scenario 4: Multiple slots per day
Monday has two schedule entries: a "Lunch" slot (orders 8-11 AM, delivery 12-2 PM) and a "Dinner" slot (orders 2-5 PM, delivery 6-8 PM). Both are displayed under Monday with clear labels.

### Scenario 5: Mobile view
On mobile, the schedule displays as a vertical list of day cards, each expandable to show the time windows. The current day's card is expanded by default.

---

## Business Rules
| Code | Rule |
|------|------|
| BR-186 | Schedule displays all 7 days of the week with their availability status |
| BR-187 | For each available day/slot: order window, delivery window, and pickup window times are shown |
| BR-188 | The current day is visually highlighted (border, background, or badge) |
| BR-189 | "Available Now" badge displays when the current time falls within an active order window |
| BR-190 | "Next available: [day/time]" badge displays when no order window is currently active |
| BR-191 | Unavailable days are clearly marked with a muted or crossed-out style |
| BR-192 | Multiple schedule slots per day are displayed with their labels (e.g., "Lunch", "Dinner") |
| BR-193 | All times are displayed in the Africa/Douala timezone |
| BR-194 | All text in this section must be localized via `__()` |

---

## Data Involved
**Reads:**
- CookSchedule entries for the tenant (all days, all slots)
- Order time intervals per schedule entry
- Delivery time intervals per schedule entry
- Pickup time intervals per schedule entry
- Current server time for "Available Now" logic

**Creates:**
- Schedule section Blade component
- Day schedule card component
- Availability badge component

**Updates:**
- Nothing

**Relationships:**
- Child of F-126 (Tenant Landing Page Layout)
- Uses schedule data from F-098 (Cook Day Schedule Creation)
- Uses time intervals from F-099 (Order Time Interval) and F-100 (Delivery/Pickup Time Interval)

---

## Acceptance Criteria
- **Given** a cook with schedules for all 7 days, **when** the section loads, **then** all 7 days display with their time windows
- **Given** the current time is within an order window, **when** the section loads, **then** "Available Now" badge is displayed
- **Given** the current time is outside all order windows, **when** the section loads, **then** "Next available" badge shows the correct day and time
- **Given** an unavailable day, **when** viewing the schedule, **then** the day is visually muted with "Unavailable" label
- **Given** a day with 2 schedule slots, **when** viewing that day, **then** both slots are displayed with labels
- **Given** a mobile viewport, **when** the section loads, **then** days display as expandable cards

---

## Verification Steps
1. Visit a tenant site and scroll to the schedule section
2. Verify all 7 days are displayed with correct time windows
3. Verify the current day is highlighted
4. Check the availability badge matches the current time and schedule
5. Verify unavailable days are clearly marked
6. View a day with multiple slots and confirm both are listed
7. Test on mobile and verify expandable card behavior

---

## Edge Cases & Exceptions
| Condition | Expected Behavior |
|-----------|-------------------|
| Cook has no schedules configured | Show message: "Schedule not yet available. Contact the cook for ordering information." |
| All 7 days are unavailable | Badge shows "Currently not accepting orders" |
| Schedule changes while client is viewing | Next page interaction via Gale reflects updated schedule |
| Cook is in a different timezone than client | Times always shown in Africa/Douala timezone with a note |
| Order window ends in less than 15 minutes | "Available Now" badge shows "Closing soon" warning |

---

## UI/UX Notes
- Section header: "Schedule & Availability" (localized)
- Availability badge prominently displayed at the top of the section
- Desktop: 7-column grid or horizontal card layout for the week
- Mobile: vertical stack of expandable day cards
- Current day highlighted with accent color from tenant theme
- Time windows formatted as "HH:MM AM/PM - HH:MM AM/PM"
- Icons for order (shopping cart), delivery (truck), pickup (store) next to time windows
- Section anchored with id="schedule" for navigation

---

## Related Features
| Code | Feature | Relationship |
|------|---------|-------------|
| F-126 | Tenant Landing Page Layout | Parent layout containing this section |
| F-098 | Cook Day Schedule Creation | Source of schedule entries |
| F-099 | Order Time Interval Configuration | Source of order window times |
| F-100 | Delivery/Pickup Time Interval Config | Source of delivery/pickup window times |
| F-148 | Order Scheduling for Future Date | Uses this schedule for date selection |
