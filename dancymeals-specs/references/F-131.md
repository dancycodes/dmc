# F-131 â€” Testimonials Showcase Section

> Module: Tenant Landing
> Priority: Should-have
> Precedence: F-126, F-182
> Type: functional

---

## What It Does
Renders a testimonials section on the cook's tenant landing page displaying approved client testimonials. Testimonials are separate from ratings/reviews and are curated by the cook: clients submit them, and the cook approves which ones appear on their landing page. Displayed as a carousel or grid of testimonial cards. Includes a "Submit Testimonial" button for authenticated clients.

---

## Who Uses It
| Role | Interaction |
|------|-------------|
| Client (guest) | Views testimonials to assess cook's reputation |
| Client (authenticated) | Views testimonials and can submit a new one |
| Cook | Curates which testimonials appear (approval managed in cook dashboard via F-182) |

---

## User Scenarios
### Scenario 1: Viewing approved testimonials
A visitor scrolls to the testimonials section. They see 6 testimonial cards in a responsive grid. Each card shows the client's name, the date, and a brief testimonial text. A carousel with navigation arrows allows browsing through them on mobile.

### Scenario 2: Submitting a testimonial
An authenticated client clicks "Submit Testimonial." A form modal opens with a textarea for their testimonial message. After submission, a success toast appears: "Thank you! Your testimonial will appear once approved by the cook."

### Scenario 3: No testimonials
A new cook has no approved testimonials. The section shows a minimal empty state: "No testimonials yet" and the "Submit Testimonial" button for authenticated clients.

### Scenario 4: Guest sees testimonials but cannot submit
A guest visitor sees the testimonial cards but the "Submit Testimonial" button either shows "Login to submit a testimonial" or redirects to login when clicked.

---

## Business Rules
| Code | Rule |
|------|------|
| BR-176 | Only cook-approved testimonials are displayed on the tenant landing page |
| BR-177 | Maximum 10 testimonials displayed on the landing page |
| BR-178 | Each testimonial card shows: client first name, date submitted, testimonial text |
| BR-179 | Testimonials are sorted by the date they were approved (most recent first) |
| BR-180 | "Submit Testimonial" is available only to authenticated clients |
| BR-181 | Submitted testimonials go to a pending state and require cook approval before display |
| BR-182 | Guest users see testimonials but cannot submit; they see a login prompt |
| BR-183 | Testimonial text has a maximum length of 500 characters |
| BR-184 | All text in this section must be localized via `__()` |
| BR-185 | Testimonial submission uses Gale (no page reload) |

---

## Data Involved
**Reads:**
- Approved testimonials for the tenant: client name, text, created_at, approved_at
- Authentication state (to show/hide submit button)

**Creates:**
- Testimonials section Blade component
- Testimonial card component
- Testimonial submission form modal

**Updates:**
- Creates new testimonial record in pending state on submission

**Relationships:**
- Child of F-126 (Tenant Landing Page Layout)
- Testimonial approval managed in F-182 (Testimonial Management)
- Submission creates a record reviewed in F-182

---

## Acceptance Criteria
- **Given** a cook with 8 approved testimonials, **when** the section loads, **then** 8 testimonial cards are displayed
- **Given** a cook with 15 approved testimonials, **when** the section loads, **then** only 10 are displayed
- **Given** an authenticated client, **when** viewing the section, **then** a "Submit Testimonial" button is visible
- **Given** the client submits a testimonial, **when** the form is submitted, **then** a success toast appears and the testimonial is saved in pending state
- **Given** a guest user, **when** viewing the section, **then** the submit button shows a login prompt
- **Given** a cook with no approved testimonials, **when** the section loads, **then** an empty state is shown

---

## Verification Steps
1. Visit a tenant site and scroll to the testimonials section
2. Verify approved testimonial cards display with correct data
3. Log in as a client and click "Submit Testimonial" to open the form
4. Submit a testimonial and verify success toast and pending state in database
5. Verify guest users cannot access the submission form
6. Verify maximum of 10 testimonials displayed
7. Test on mobile and confirm carousel/grid is responsive

---

## Edge Cases & Exceptions
| Condition | Expected Behavior |
|-----------|-------------------|
| Testimonial text is very short (under 20 characters) | Card renders normally with short text |
| Client submits duplicate testimonial | Allowed; cook can choose which to approve |
| Client's account is deactivated after testimonial approved | Testimonial remains displayed with the original name |
| Cook unapproves a testimonial | It is removed from the display on next load |
| Submission with special characters or HTML | Sanitized and escaped; no XSS |

---

## UI/UX Notes
- Section header: "What Our Clients Say" or "Testimonials" (localized)
- Cards displayed in a 1/2/3 column grid or horizontal carousel
- Each card has quotation mark icon, testimonial text, and client attribution
- "Submit Testimonial" button styled as a secondary/outline button
- Submission modal has textarea, character counter (500 max), and submit/cancel buttons
- Mobile: carousel with swipe navigation and dot indicators
- Section anchored with id="testimonials" for navigation

---

## Related Features
| Code | Feature | Relationship |
|------|---------|-------------|
| F-126 | Tenant Landing Page Layout | Parent layout containing this section |
| F-182 | Testimonial Management | Cook dashboard for approving/rejecting testimonials |
| F-005 | Authentication Scaffolding | Required for testimonial submission |
